{"ast":null,"code":"import _objectSpread from \"D:\\\\Project\\\\public\\\\ASM\\\\asm4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"D:\\\\Project\\\\public\\\\ASM\\\\asm4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Project\\\\public\\\\ASM\\\\asm4\\\\public\\\\pj\\\\src\\\\context\\\\StateContext.js\";\n\nimport React, { createContext, useContext, useReducer } from 'react';\nimport reducer from \"./reducer\";\nimport * as ActionTypes from \"./actions\";\nimport logger from '../pages/logger';\nvar initialState = {\n  staffs: []\n};\nexport var StateContext = createContext();\nexport var StateProvider = function StateProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(logger(reducer), initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var fetchStaff = function fetchStaff(type) {\n    fetch(\"https://rjs101xbackend.herokuapp.com/\".concat(type)).then(function (res) {\n      return res.json();\n    }).then(function (staffs) {\n      dispatch({\n        type: ActionTypes.LOADING_STAFF,\n        payload: staffs\n      });\n    });\n  };\n\n  console.log(state);\n  return /*#__PURE__*/React.createElement(StateContext.Provider, {\n    value: _objectSpread({}, state, {\n      fetchStaff: fetchStaff\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport var useStateValue = function useStateValue() {\n  return useContext(StateContext);\n};","map":{"version":3,"names":["React","createContext","useContext","useReducer","reducer","ActionTypes","logger","initialState","staffs","StateContext","StateProvider","children","state","dispatch","fetchStaff","type","fetch","then","res","json","LOADING_STAFF","payload","console","log","useStateValue"],"sources":["D:/Project/public/ASM/asm4/public/pj/src/context/StateContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nimport reducer from \"./reducer\";\r\nimport * as ActionTypes from \"./actions\";\r\nimport logger from '../pages/logger';\r\n\r\n\r\nconst initialState = {\r\n  staffs: [],\r\n};\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(logger(reducer), initialState);\r\n  const fetchStaff = (type) => {\r\n    fetch(`https://rjs101xbackend.herokuapp.com/${type}`)\r\n      .then((res) => res.json())\r\n      .then((staffs) => {\r\n        dispatch({\r\n            type: ActionTypes.LOADING_STAFF,\r\n            payload: staffs\r\n        });\r\n      });\r\n  };\r\n  console.log(state)\r\n  return (\r\n    <StateContext.Provider\r\n      value={{\r\n        ...state,\r\n        fetchStaff\r\n      }}\r\n    >\r\n      {children}\r\n    </StateContext.Provider>\r\n  )\r\n};\r\n\r\nexport const useStateValue = () => useContext(StateContext);"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,UAA3C,QAA6D,OAA7D;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,KAAKC,WAAZ,MAA6B,WAA7B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAGA,IAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE;AADW,CAArB;AAIA,OAAO,IAAMC,YAAY,GAAGR,aAAa,EAAlC;AAEP,OAAO,IAAMS,aAAa,GAAG,SAAhBA,aAAgB,OAAkB;EAAA,IAAfC,QAAe,QAAfA,QAAe;;EAAA,kBACnBR,UAAU,CAACG,MAAM,CAACF,OAAD,CAAP,EAAkBG,YAAlB,CADS;EAAA;EAAA,IACtCK,KADsC;EAAA,IAC/BC,QAD+B;;EAE7C,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;IAC3BC,KAAK,gDAAyCD,IAAzC,EAAL,CACGE,IADH,CACQ,UAACC,GAAD;MAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;IAAA,CADR,EAEGF,IAFH,CAEQ,UAACT,MAAD,EAAY;MAChBK,QAAQ,CAAC;QACLE,IAAI,EAAEV,WAAW,CAACe,aADb;QAELC,OAAO,EAAEb;MAFJ,CAAD,CAAR;IAID,CAPH;EAQD,CATD;;EAUAc,OAAO,CAACC,GAAR,CAAYX,KAAZ;EACA,oBACE,oBAAC,YAAD,CAAc,QAAd;IACE,KAAK,oBACAA,KADA;MAEHE,UAAU,EAAVA;IAFG,EADP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAMGH,QANH,CADF;AAUD,CAvBM;AAyBP,OAAO,IAAMa,aAAa,GAAG,SAAhBA,aAAgB;EAAA,OAAMtB,UAAU,CAACO,YAAD,CAAhB;AAAA,CAAtB"},"metadata":{},"sourceType":"module"}