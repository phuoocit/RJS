{"ast":null,"code":"import _objectSpread from \"D:\\\\Project\\\\public\\\\ASM\\\\asm4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"D:\\\\Project\\\\public\\\\ASM\\\\asm4\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Project\\\\public\\\\ASM\\\\asm4\\\\public\\\\pj\\\\src\\\\context\\\\StateContext.js\";\n\nimport React, { createContext, useContext, useReducer, useEffect, useState } from 'react';\nimport reducer, { initialState } from \"./reducer\";\nimport * as ActionTypes from \"./actions\";\nimport logger from '../pages/logger';\nexport var StateContext = createContext();\nexport var StateProvider = function StateProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(logger(reducer), initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataStaffs = _useState2[0],\n      setDataStaffs = _useState2[1];\n\n  console.log(state);\n  useEffect(function () {\n    if (dataStaffs.length > 0) {} else {\n      fetchStaff('staffs');\n    }\n  }, []);\n\n  var fetchStaff = function fetchStaff(type) {\n    fetch(\"https://rjs101xbackend.herokuapp.com/\".concat(type)).then(function (res) {\n      return res.json();\n    }).then(function (staffs) {\n      dispatch({\n        type: ActionTypes.LOADING_STAFF,\n        payload: staffs\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(StateContext.Provider, {\n    value: _objectSpread({}, state, {\n      fetchStaff: fetchStaff,\n      dispatch: dispatch\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport var useStateValue = function useStateValue() {\n  return useContext(StateContext);\n};","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useState","reducer","initialState","ActionTypes","logger","StateContext","StateProvider","children","state","dispatch","dataStaffs","setDataStaffs","console","log","length","fetchStaff","type","fetch","then","res","json","staffs","LOADING_STAFF","payload","useStateValue"],"sources":["D:/Project/public/ASM/asm4/public/pj/src/context/StateContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect, useState } from 'react';\r\n\r\nimport reducer, { initialState } from \"./reducer\";\r\nimport * as ActionTypes from \"./actions\";\r\nimport logger from '../pages/logger';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(logger(reducer), initialState);\r\n  const [dataStaffs, setDataStaffs] = useState([])\r\n  console.log(state)\r\n  useEffect(() => {\r\n    if (dataStaffs.length > 0) {\r\n\r\n    } else {\r\n      fetchStaff('staffs')\r\n    }\r\n  }, [])\r\n  const fetchStaff = (type) => {\r\n    fetch(`https://rjs101xbackend.herokuapp.com/${type}`)\r\n      .then((res) => res.json())\r\n      .then((staffs) => {\r\n        dispatch({\r\n          type: ActionTypes.LOADING_STAFF,\r\n          payload: staffs\r\n        });\r\n      });\r\n  };\r\n  return (\r\n    <StateContext.Provider\r\n      value={{\r\n        ...state,\r\n        fetchStaff,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </StateContext.Provider>\r\n  )\r\n};\r\n\r\nexport const useStateValue = () => useContext(StateContext);"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,UAA3C,EAAuDC,SAAvD,EAAkEC,QAAlE,QAAkF,OAAlF;AAEA,OAAOC,OAAP,IAAkBC,YAAlB,QAAsC,WAAtC;AACA,OAAO,KAAKC,WAAZ,MAA6B,WAA7B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,OAAO,IAAMC,YAAY,GAAGT,aAAa,EAAlC;AAEP,OAAO,IAAMU,aAAa,GAAG,SAAhBA,aAAgB,OAAkB;EAAA,IAAfC,QAAe,QAAfA,QAAe;;EAAA,kBACnBT,UAAU,CAACM,MAAM,CAACH,OAAD,CAAP,EAAkBC,YAAlB,CADS;EAAA;EAAA,IACtCM,KADsC;EAAA,IAC/BC,QAD+B;;EAAA,gBAETT,QAAQ,CAAC,EAAD,CAFC;EAAA;EAAA,IAEtCU,UAFsC;EAAA,IAE1BC,aAF0B;;EAG7CC,OAAO,CAACC,GAAR,CAAYL,KAAZ;EACAT,SAAS,CAAC,YAAM;IACd,IAAIW,UAAU,CAACI,MAAX,GAAoB,CAAxB,EAA2B,CAE1B,CAFD,MAEO;MACLC,UAAU,CAAC,QAAD,CAAV;IACD;EACF,CANQ,EAMN,EANM,CAAT;;EAOA,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;IAC3BC,KAAK,gDAAyCD,IAAzC,EAAL,CACGE,IADH,CACQ,UAACC,GAAD;MAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;IAAA,CADR,EAEGF,IAFH,CAEQ,UAACG,MAAD,EAAY;MAChBZ,QAAQ,CAAC;QACPO,IAAI,EAAEb,WAAW,CAACmB,aADX;QAEPC,OAAO,EAAEF;MAFF,CAAD,CAAR;IAID,CAPH;EAQD,CATD;;EAUA,oBACE,oBAAC,YAAD,CAAc,QAAd;IACE,KAAK,oBACAb,KADA;MAEHO,UAAU,EAAVA,UAFG;MAGHN,QAAQ,EAARA;IAHG,EADP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAOGF,QAPH,CADF;AAWD,CAhCM;AAkCP,OAAO,IAAMiB,aAAa,GAAG,SAAhBA,aAAgB;EAAA,OAAM3B,UAAU,CAACQ,YAAD,CAAhB;AAAA,CAAtB"},"metadata":{},"sourceType":"module"}